// Get elements
const musicToggle = document.getElementById('music-toggle');
const themeToggle = document.getElementById('theme-toggle');
const music = document.getElementById('background-music');
const body = document.body;

// Load saved preferences on page load
window.addEventListener('DOMContentLoaded', () => {
  // Load theme preference
  const savedTheme = localStorage.getItem('theme');
  if (savedTheme === 'dark') {
    body.classList.add('dark-mode');
    themeToggle.textContent = 'â˜€ï¸'; // Sun icon when dark mode is on
  } else {
    themeToggle.textContent = 'ğŸŒ™'; // Moon icon for light mode
  }

  // Load music preference
  const musicPlaying = localStorage.getItem('musicPlaying') === 'true';
  if (musicPlaying) {
    music.play();
    musicToggle.textContent = 'ğŸ”Š'; // Sound on icon
  } else {
    musicToggle.textContent = 'ğŸµ'; // Sound off icon
  }
});

// Music toggle button click handler
musicToggle.addEventListener('click', () => {
  if (music.paused) {
    music.play();
    musicToggle.textContent = 'ğŸ”Š'; // Change to sound on icon
    localStorage.setItem('musicPlaying', 'true');
  } else {
    music.pause();
    musicToggle.textContent = 'ğŸµ'; // Change to sound off icon
    localStorage.setItem('musicPlaying', 'false');
  }
});

// Theme toggle button click handler
themeToggle.addEventListener('click', () => {
  body.classList.toggle('dark-mode');

  if (body.classList.contains('dark-mode')) {
    themeToggle.textContent = 'â˜€ï¸'; // Sun icon for light mode toggle
    localStorage.setItem('theme', 'dark');
  } else {
    themeToggle.textContent = 'ğŸŒ™'; // Moon icon for dark mode toggle
    localStorage.setItem('theme', 'light');
  }
});
